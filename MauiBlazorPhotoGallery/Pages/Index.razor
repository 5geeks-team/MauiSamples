@page "/"

@using MauiBlazorPhotoGallery.Data
@inject MediaService mediaService

@if (items == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="grid">
        @foreach (var item in items)
        {
            <div class="grid-item">
                <img src = "@item.Link"/>
            </div>
        }
    </div>
}

@code {
    private IEnumerable<MediaItem> items;

    protected override void OnInitialized()
    {
        base.OnInitialized();
        items = mediaService.GetMediaItems(100);
    }
}
